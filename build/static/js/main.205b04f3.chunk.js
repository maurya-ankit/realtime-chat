(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[1],{153:function(e,t,n){"use strict";n.r(t);var c=n(184),r=n(0),a=n(59),o=n.n(a),s=n(187),i=n(102),l=n(177),u=n(162),j=n(178),b=n(118),d=n(179),h=n(180),x=n(116),O=n(186),m=n(176),f=n(105),p=n(174),g=n(87),v=n(3),S=function(e){var t=Object(b.c)().toggleColorMode,n=Object(b.d)("dark","light"),c=Object(b.d)(g.a,g.b);return Object(v.jsx)(p.a,Object(f.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(v.jsx)(c,{})},e))},k=n(45),y=n(12),w=n(183),C=n(51),I=n(52),z=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,217))})),L=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,228))}));var F=function(){var e=Object(C.c)((function(e){return e.user})).user,t=Object(C.b)();return Object(v.jsx)(s.a,{theme:i.theme,children:Object(v.jsx)(k.a,{children:Object(v.jsx)(l.a,{textAlign:"center",fontSize:"xl",children:Object(v.jsxs)(u.a,{minH:"100vh",children:[Object(v.jsxs)(j.a,{bg:Object(b.d)("Highlight","gray.700"),p:4,borderBottomRadius:"20",maxH:20,children:[Object(v.jsx)(l.a,{p:"2",children:Object(v.jsx)(d.a,{size:"md",children:"Realtime Chat App"})}),Object(v.jsx)(h.a,{}),Object(v.jsx)(l.a,{children:e?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(l.a,{display:{base:"none",md:"flex"},children:[Object(v.jsx)(x.a,{onClick:function(){return t(Object(I.c)())},colorScheme:"telegram",mr:[0,1,2],children:"Logout"}),Object(v.jsx)(S,{justifySelf:"flex-end"})]}),Object(v.jsxs)(O.a,{display:{base:"block",md:"none"},children:[Object(v.jsx)(O.b,{as:x.a,rightIcon:Object(v.jsx)(w.a,{}),display:{base:"block",md:"none"},pl:"2",mx:"2"}),Object(v.jsxs)(O.c,{children:[Object(v.jsx)(x.a,{onClick:function(){return t(Object(I.c)())},colorScheme:"telegram",mr:[0,1,2],children:"Logout"}),Object(v.jsx)(S,{justifySelf:"flex-end"})]})]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(l.a,{display:{base:"none",md:"flex"},children:[Object(v.jsx)(x.a,{as:k.b,to:"/auth/signup",colorScheme:"facebook",mx:[0,1,2],children:"Sign Up"}),Object(v.jsx)(x.a,{colorScheme:"linkedin",as:k.b,to:"/auth/",mx:[0,1,2],children:"Log in"}),Object(v.jsx)(S,{justifySelf:"flex-end",mx:"auto"})]}),Object(v.jsxs)(O.a,{children:[Object(v.jsx)(O.b,{as:x.a,rightIcon:Object(v.jsx)(w.a,{}),display:{base:"block",md:"none"},pl:"2",mx:"2"}),Object(v.jsxs)(O.c,{children:[Object(v.jsx)(x.a,{as:k.b,to:"/auth/signup",colorScheme:"facebook",mx:2,children:"Sign Up"}),Object(v.jsx)(x.a,{colorScheme:"linkedin",as:k.b,to:"/auth/",mx:2,children:"Log in"}),Object(v.jsx)(S,{justifySelf:"flex-end",mx:"auto"})]})]})]})})]}),Object(v.jsx)(r.Suspense,{fallback:Object(v.jsx)(m.a,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl",mx:"auto"}),children:Object(v.jsxs)(y.d,{children:[Object(v.jsx)(y.b,{path:"/auth",children:Object(v.jsx)(L,{})}),e?Object(v.jsx)(y.b,{path:"/",children:Object(v.jsx)(z,{})}):Object(v.jsx)(y.a,{to:"/auth"})]})})]})})})})},J=function(e){e&&e instanceof Function&&n.e(10).then(n.bind(null,220)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(75),P=n(29),T=Object(P.b)({user:I.a}),A=Object(B.a)({reducer:T});o.a.render(Object(v.jsx)(r.StrictMode,{children:Object(v.jsxs)(C.a,{store:A,children:[Object(v.jsx)(c.a,{}),Object(v.jsx)(F,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),J()},52:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h}));var c=n(58),r=n.n(c),a=n(83),o=n(75),s=n(77),i=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,l=Object(o.b)({name:"user",initialState:{user:i},reducers:{loginSuccess:function(e,t){e.user=t.payload,localStorage.setItem("user",JSON.stringify(t.payload))},logoutSuccess:function(e,t){e.user=null,localStorage.removeItem("user")}}});t.a=l.reducer;var u=l.actions,j=u.loginSuccess,b=u.logoutSuccess,d=function(e){var t=e.username,n=e.password;return function(){var e=Object(a.a)(r.a.mark((function e(c){var a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("/auth/token/login/",{username:t,password:n});case 3:o=e.sent,c(j({username:t,token:null===(a=o.data)||void 0===a?void 0:a.auth_token})),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("auth/token/logout");case 3:return e.abrupt("return",t(b()));case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}},77:function(e,t,n){"use strict";var c=n(107),r=n.n(c).a.create({baseURL:"/",headers:{"Content-Type":"application/json"}});r.interceptors.request.use((function(e){var t,n=null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.token;return n&&(e.headers.Authorization="Token ".concat(n)),e}),(function(e){return Promise.reject(e)})),t.a=r}},[[153,2,3]]]);
//# sourceMappingURL=main.205b04f3.chunk.js.map